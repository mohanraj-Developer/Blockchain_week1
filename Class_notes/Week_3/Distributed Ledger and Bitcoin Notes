                                       Distributed Ledger and Bitcoin Notes
Distributed Ledger
Databases that store a copy of all transactions that have happened. Every participant in the blockchain network has a copy of the ledger.
Block Structure
Header contains version information, nonce, previous block ID and timestamp.
Merkle: A hash built from the blockâ€™s transaction list.
List of records: Identification of hashes.
Header Contents
- Previous block hash 
- Timestamp
- Nonce
- Merkle root hash
- Difficulty
Bitcoin
First application of blockchain technology introduced in 2008.
Defined as a protocol, digital currency, and platform.
Bitcoin Components
- Bitcoin Network
- Wallets
- Blockchain
- Miners
- Transactions
- Digital Keys
- Hash Addresses
Limited Supply of Bitcoin
Bitcoin supply is limited to 21 million coins.
Halving occurs every 210,000 blocks.
Difficulty is adjusted every 2016 blocks.
Ways to Get Bitcoin
Buying online or offline.
Steps:
- Choose exchange
- Create account
- Connect bank
- Buy Bitcoin
Bitcoin Wallets
Used to store private/public keys and manage cryptocurrency.
Types:
- Desktop/Software Wallet
- Web Wallet
- Mobile Wallet
- Hardware Wallet
Bitcoin Block
A block consists of header, nonce, transactions, and transaction count.
UTXO (Unspent Transaction Output)
Determines wallet balance.
Cannot spend partial outputs.
Prevents double spending.
Bitcoin Scripts
Stack-based programming language used to validate transactions.
Uses opcodes such as OP_DUP, OP_HASH160, OP_EQUALVERIFY, OP_CHECKSIG.
Components of Bitcoin Script
Bitcoin uses a stack-based scripting language to validate transactions.
There are two main parts:
1ï¸âƒ£ ScriptSig (Input Script)
Provided by the sender
<Signature> <Public Key>
ğŸ‘‰ Proves ownership of Bitcoin
ğŸ‘‰ Unlocks the previous output

2ï¸âƒ£ ScriptPubKey (Output Script)
Defined by the receiver
OP_DUP
OP_HASH160
<PublicKeyHash>
OP_EQUALVERIFY
OP_CHECKSIG
ğŸ‘‰ Contains conditions to spend Bitcoin
ğŸ‘‰ Verifies authenticity of the transaction

ğŸ” Complete Bitcoin Transaction Script
When executed, both scripts are combined:
<sig> <pubKey>
OP_DUP OP_HASH160 <pubKeyHash> OP_EQUALVERIFY OP_CHECKSIG

ğŸ“Š Diagram: Stack Execution (FIFO / LIFO Concept)
Step 1ï¸âƒ£ Push ScriptSig values to Stack
Stack
â”‚ <sig>     â”‚
â”‚ <pubKey>  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ğŸ“Œ Values are pushed one by one

Step 2ï¸âƒ£ OP_DUP (Duplicate Public Key)
Stack
â”‚ <pubKey>  â”‚ â† duplicated
â”‚ <pubKey>  â”‚
â”‚ <sig>     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 3ï¸âƒ£ OP_HASH160 (Hash Public Key)
Stack
â”‚ HASH160(pubKey) â”‚
â”‚ <pubKey>        â”‚
â”‚ <sig>           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 4ï¸âƒ£ Push <PublicKeyHash> from ScriptPubKey
Stack
â”‚ <pubKeyHash>    â”‚
â”‚ HASH160(pubKey) â”‚
â”‚ <sig>           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 5ï¸âƒ£ OP_EQUALVERIFY
âœ”ï¸ Compares:
HASH160(pubKey) == pubKeyHash ?
âœ… If equal â†’ values removed from stack
âŒ If not equal â†’ transaction fails
Stack
â”‚ <sig> â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜

Step 6ï¸âƒ£ OP_CHECKSIG (Final Verification)
âœ”ï¸ Checks:
Signature â†” Public Key
If valid â†’ TRUE pushed to stack
Transaction is SUCCESSFUL
Stack
â”‚ TRUE â”‚ âœ…
â””â”€â”€â”€â”€â”€â”€â”˜
                                                                                                        
                                                                                                               BY BAVALYA
